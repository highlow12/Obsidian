---
tags:
---

허프만 코딩은 데이터 압축에서 자주 사용되는 효율적인 코딩 기법 중 하나이다. 이 방법은 문자나 기호의 빈도에 따라 가변 길이 코드를 할당하며, 더 자주 등장하는 문자에는 짧은 코드를, 덜 자주 등장하는 문자에는 긴 코드를 할당하여 전체 메시지를 표현하는 데 필요한 비트 수를 최소화한다.

# 인코딩
1. **빈도 계산**
   ```
   B: 1
   C: 1
   A: 2
   ```

2. **우선순위 큐 초기화**
   각 문자의 빈도를 기반으로 노드를 생성하고 우선순위 큐에 삽입합니다.
   ```
   [B(1), C(1), A(2)]
   ```

3. **트리 구성**
   - 우선순위 큐에서 빈도가 가장 낮은 두 노드를 추출합니다: `B(1)`와 `C(1)`.
   - 두 노드를 합친 부모 노드를 생성합니다: `*(2)` (자식: B, C).
   - 새로운 부모 노드를 큐에 삽입합니다.
   ```
   [*(2, B, C), A(2)]
   ```
   - 다시 두 노드를 추출합니다: `*(2)`와 `A(2)`.
   - 두 노드를 합친 부모 노드를 생성합니다: `*(4)` (자식: *(B, C), A).
   - 이제 큐에는 하나의 노드만 남습니다: `*(4)`.
4. **코드 할당**
   - 허프만 트리를 순회하면서 각 리프 노드에 코드를 할당합니다.
   - 트리 구조:
     ```
             (*)
            /   \
          (A)   (*)
                /   \
              (B)   (C)
     ```
   - 코드 할당:
     - A: 0
     - B: 10
     - C: 11
5. **인코딩**
   문자열 `BCAA`를 각각의 문자에 할당된 코드로 변환합니다.
   ```
   B: 10
   C: 11
   A: 0
   A: 0
   ```
   - 인코딩된 문자열: `101100`

# 디코딩
1. **Huffman 트리 생성**: 디코딩을 위해서는 먼저 인코딩에 사용된 Huffman 트리를 알고 있어야 한다. 인코딩 과정에서 생성된 Huffman 트리를 준비한다.
2. **코드 읽기 및 트리 탐색**:
   - 인코딩된 비트 스트림을 처음부터 한 비트씩 읽기 시작한다.
   - Huffman 트리의 루트 노드에서부터 시작하여 비트를 하나씩 읽어가며 트리를 탐색한다.
     - 읽은 비트가 '0'이면 현재 노드의 왼쪽 자식 노드로 이동한다.
     - 읽은 비트가 '1'이면 현재 노드의 오른쪽 자식 노드로 이동한다.
3. **문자 복원**:
   - 자식 노드로 이동할 때마다 현재 노드가 리프 노드인지 확인한다.
   - 리프 노드에 도달하면 해당 노드의 문자를 복원하고, 다시 루트 노드로 돌아가 다음 비트를 읽기 시작한다.
   - 이 과정을 인코딩된 비트 스트림의 끝까지 반복한다.
4. **디코딩 완료**: 
   - 모든 비트를 읽고 나면, 원래의 문자가 복원된다.
# 예시
- 예를 들어, 인코딩된 비트 스트림이 `101100`이고, Huffman 트리가 다음과 같다고 가정한다:
  ```
          (*)
         /   \
       (A)   (*)
             /   \
           (B)   (C)
  ```
  - `1`을 읽으면 오른쪽으로 이동하여 `*` 노드에 도착한다.
  - `0`을 읽으면 왼쪽으로 이동하여 `B` 노드에 도착한다 (첫 번째 문자 복원: `B`).
  - 다시 루트로 돌아가서 `1`을 읽으면 오른쪽으로 이동하여 `*` 노드에 도착한다.
  - 또 `1`을 읽으면 오른쪽으로 이동하여 `C` 노드에 도착한다 (두 번째 문자 복원: `C`).
  - 다시 루트로 돌아가서 `0`을 읽으면 왼쪽으로 이동하여 `A` 노드에 도착한다 (세 번째 문자 복원: `A`).
  - 마지막으로 `0`을 읽으면 왼쪽으로 이동하여 `A` 노드에 도착한다 (네 번째 문자 복원: `A`).
결과: BCAA
# 특징
- **무손실 압축**: 원본 데이터를 압축하고 해제하더라도 데이터 손실이 발생하지 않는다.
- **최적 인코딩**: 주어진 문자 집합에 대해 평균 코드 길이를 최소화하는 가장 효율적인 방법 중 하나이다.
- **가변 길이 코드**: 더 자주 등장하는 문자에는 짧은 코드가, 덜 자주 등장하는 문자에는 긴 코드가 할당된다.

허프만 코딩은 효율성과 무손실 압축 특성 덕분에 파일 압축, 데이터 전송 최적화 등 다양한 분야에서 널리 사용된다. 